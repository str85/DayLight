
![DayLight](http://i.imgur.com/bCNkzd4.png)

DayLight - блокчейн платформа, объединяющая разрозненные массивы данных в единое информационное пространство, для последующей обработки оных искусственным интеллектом.

DayLight переводит на новый уровень не только финансовую составляющую нашего мира, но и политическую. 

DayLight позволит заменить чиновничий аппарат на более эффективную систему принятия решений, где ИИ будет предлагать максимально релевантный вариант, ведущий к улучшению качества жизни общества. А также обеспечит прозрачность, благодаря использованию блокчейна.

DayLight может существовать параллельно с классической финансовой и государственной системой, постепенно производя их замену

v 1.x - блокчейн платформа, которая будет содержать основные функции, необходимые для работы финансовой и политической системы. Основные решения принимают люди. Накапливаются данные для машинного обучения.

v 2.x - будет включать в себя аналитические модули, позволяющие обрабатывать при помощи ИИ накопленные массивы данных для верстки бюджета, инвестиционной деятельности и монетарной политики. 

Ниже кратко описана архитектура v 1.0

Диаграмма базы данных DayLight:
![DayLight schema](http://i.imgur.com/H67dB7Q.png)

-------


Граждане

* [Перевод средств](#Перевод-средств)
* [Регистрация компании](#Регистрация-компании)
* [p2p кредитование](#p2p-кредитование)
* [Запрос на продажу недвижимости](#Запрос-на-продажу-недвижимости)
* [Запрос на кредит](#Запрос-на-кредит)
* [Регистрация брака](#Регистрация-брака)
* [Расторжение брака](#Расторжение-брака)
* [Брачный контракт](#Брачный-контракт)
* [Покупка товаров на аукционе](#Покупка-товаров-на-аукционе)
* [Оформление наследства](#Оформление-наследства)
* [Выборы органов местной власти](#Выборы-органов-местной-власти)
* [Выборы губернатора](#Выборы-губернатора)
* [Выборы сенаторов](#Выборы-сенаторов)
* [Создание партии](#Создание-партии)
* [Голование за партию](#Голосование-за-партию)
* [Выбор главы гос-ва](#Выбор-главы-гос-ва)

Компании

* [Расходные проводки](#Расходные-проводки)
* [Регистрация товаров](#Регистрация-товаров)
* [Регистрация Item компанией](#Регистрация-item-компанией)
* [Периодичность выплаты зарплаты в компании](#Периодичность-выплаты-зарплаты-в-компании)
* [Прием гражданина на работу](#Прием-гражданина-на-работу)
* [Увольнение сотрудника](#Увольнение-сотрудника)
* [Начисление премии сотруднику](#Начисление-премии-сотруднику)
* [Регистрация доверенного лица ген. директора](#Регистрация-доверенного-лица-ген-директора)
* [Покупка товара компанией у компании](#Покупка-товара-компанией-у-компании)
* [Списание товара с баланса компании](#Списание-товара-с-баланса-компании)
* [Выписка счета](#Выписка-счета)
* [Выпуск акций](#Выпуск-акций)
* [Ликвидация компании](#Ликвидация-компании)
* [Покупка/продажа акций](#Покупкапродажа-акций)
* [Обмен валюты](#Обмен-валюты)
* [Краудфандинг](#Краудфандинг)

ЦБ

* [ЦБ](#ЦБ)
* [Смена IP ноды ЦБ](#Смена-ip-ноды-ЦБ)
* [Эмиссия-валюты](#Эмиссия-валюты)
* [Выбор главы ЦБ](#Выбор-главы-ЦБ)
* [Кредитование](#Кредитование)
* [Регистрация представителя ЦБ](#Регистрация-представителя-ЦБ)
* [Отзыв лицензии у представителя ЦБ](#Отзыв-лицензии-у-представителя-ЦБ)
* [Установка параметров по анонимным счетам](#Установка-параметров-по-анонимным-счетам)

Государство

* [Настройка параметров государства](#Настройка-параметров-государства)
* [Срок полномочий губернаторов](#Срок-полномочий-губернаторов)
* [Регистрация гражданина](#Регистрация-гражданина)
* [Налогообложение](#Налогообложение)
* [Добавление объекта недвижимости](#Добавление-объекта-недвижимости)
* [Загрузка федерального бюджета](#Загрузка-федерального-бюджета)


---

### ЦБ

ЦБ одной страны не должен доверять ЦБ другой страны. Для того, чтобы осуществить транзакцию обмена одной валюты на другую нам необходимо знать баланс, а как следствие историю всех операций по данному счету. Поэтому у каждого ЦБ должна быть информация обо всех счетах во всех валютах. В этом случае не только ЦБ, но и весь рынок будет знать объем эмиссированных другими ЦБ средств.

Т.к. ЦБ разных стран не могут полагаться на какой-то один центральный орган, единственным вариантом будет использование блокчейна для обмена данными.

ЦБ должен быть уверен в том, что баланс счета в неподконтрольной ему валюте именно такой, какой заявлено. Для этого ему необходимо пропускать через свою ноду все транзакции, связанные с этим счетом. А именно: пополнение и списание средств со счета при помощи  переводов от других граждан, компаний (покупки, продажи, зарплаты, дивиденды, распределение прибыли), государства (налоги, зарплаты), ЦБ (эмиссия).

###### CentralBanks
| ID        | CurrencyId           | NodeIp  | UserId  |
| ------------- |-------------| -----|-----|

Все 159 ЦБ зарегистрированы заранее в таблице CentralBanks. 


### Смена IP ноды ЦБ
```
TX
 * NodeIp
 * UserId
 * Подпись главы ЦБ
```

###### ChangeCBNodeIpHistory (История изменения IP ноды)
| ID        | CBID | UserId           | NodeIp  | BlockId  |
| ------------- |-------------| -----|-----|-----|


### Эмиссия валюты

Начисление средств на счета всех граждан
```
TX1
 * ID валюты
 * Сумма
 * Подпись главы ЦБ
```
###### EmissionHistoryAmount (История эмиссии через начисление суммы)
| ID        | CurrencyId           | Amount  | BlockId  |
| ------------- |-------------| -----| -----|

Увеличение средств на определенный процент
```
TX2
 * ID валюты
 * Процент
 * Подпись главы ЦБ
```
###### EmissionHistoryPct (История эмиссии через увеличение на определенный процент)
| ID        | CurrencyId           |  Pct  | BlockId  |
| ------------- |-------------| -----| -----|-----|

Увеличение средств на кредитных счетах
```
TX2
 * ID валюты
 * Сумма
 * Процент
 * Подпись главы ЦБ
```
###### EmissionHistoryCredit (История эмиссии через увеличение средств на кредитных счетах)
| ID        | CurrencyId           |  Amount  | Pct  | BlockId  |
| ------------- |-------------| -----|-----|-----|-----|

Вместо выкупа гос. облигаций ЦБ будут осуществлять эмиссию при помощи прямого зачисления средств на счета своих граждан. Если эмиссия не должна повлечь перманентное увеличение денежной массы, тогда ЦБ может начислить средства на кредитные счета граждан.

Операции добавления средств миллиарду граждан будут очень ресурсозатратными, поэтому их нужно делать в несколко итараций в течение нескольких часов.

### Выбор главы ЦБ

```
TX
 * ID валюты
 * ID голосующего гражданина
 * ID гражданина, который будет выбран главой ЦБ
 * Подпись голосующего гражданина
```

###### VoteCBHistory (История голосов за главу ЦБ)
| ID        | UserId           | VoteUserId  | Time  | BlockId  |
| ------------- |-------------| -----|-----|-----|

Держатели валюты раз в X дней выбирают главу ЦБ, той стран, в которой они зарегистрированы.

### Создание партии

```
TX
 * Название партии
 * Описание
 * Подпись гражданина
```

Если в настройках параметров государства выбрана мультипартийная политическая система, тогда любой гражданин достигший определнного в парметрах возраста может создать свою партию.

###### PoliticalParties (Политические партии)
| ID        | Name           | Description  | Time  | 
| ------------- |-------------| -----|-----|

### Голосование за партию

```
TX
 * ID партии
 * ID голосующего гражданина
 * Подпись голосующего гражданина
 ```

###### VotePoliticalPartiesHistory (История голосования за политические партии)
| ID        | UserId           | PoliticalPartyId  | Time  | BlockId  |
| ------------- |-------------| -----|-----|-----|

### Выборы сенаторов

```
TX
 * ID гржданина
 * ID голосующего гражданина
 * Подпись голосующего гражданина
 ```

###### VoteSenatorsHistory (История голосования за сенаторов)
| ID        | UserId           | VoteUserId  | Time  | BlockId  |
| ------------- |-------------| -----|-----|-----|



### Выбор главы гос-ва

```
TX
 * ID гражданина, который будет выбран главой гос-ва
 * ID голосующего гражданина
 * Подпись голосующего гражданина
 ```

###### VoteHeadOfStateHistory (История голосования за главу гос-ва)
| ID        | UserId           | VoteUserId  | Time  | BlockId  |
| ------------- |-------------| -----|-----|-----|

Глава государства имеет право устанавливать размер налогов, загружать в блокчейн бюджет страны. Но при изменении настроек парметров гос-ва разлиные функции могут быть переданы дрпугим органам власти.


### Настройка параметров государства
```
TX
 * Настройки (JSON)
 * UserId главы гос-ва
 * Подпись главы гос-ва
 ```

###### CountryOptions (Параметры страны)
| CountryId        | Options           | PresidentUserId  |
| ------------- |-------------| -----|


Каждая страна может настроить свою политическую систему. Кол-во партий, их полномочия, полномочия главы гос-ва и т.д.

### Срок полномочий губернаторов
```
TX
 * Кол-во лет
 * Подпись главы гос-ва
 ```


### Выборы губернатора

```
TX
 * ID гражданина, который будет выбран губернатором
 * ID голосующего гражданина 
 * Подпись голосующего гражданина
 ```
Гражданин может голосовать за губернатора, зарегистрированного в том же городе, где и он сам.

###### VoteGovernorHistory (История голосов за губернатора)
| ID        | UserId           | VoteUserId  | Time  | BlockId  |
| ------------- |-------------| -----|-----|-----|


### Выборы органов местной власти

```
TX
 * ID гражданина, который будет выбран в орган местной власти
 * Подпись голосующего гражданина
 ```

###### VoteLocalAuthoritiesHistory (История голосов за органы местной власти)
| ID        | UserId           | VoteUserId  | Time  | BlockId  |
| ------------- |-------------| -----|-----|-----|


### Регистрация гражданина

```
TX
 * Личные данные (private)
 * Страна
 * Штат
 * Город
 * Дата рождения
 * Public key
 * User ID органа местной власти
 * Подпись органа местной власти
 ```

###### Users

| ID        | Личные данные (private)           | Страна | Штат | Город | Дата рождения | Public key  | GovUserId  | Status  | BlockId  |
| ------------- | ------------- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- |

Дата рождения, и местонаждение необходимы для участие в выборах в органы власти.

###### UsersAccounts (Счета юзеров)
Пользователю автоматически создается счет в той валюте, которой управляет ЦБ

| ID        | CurrencyId           | UserId  | Amount  |
| ------------- |-------------| -----|-----|
Если UserId = 0, значит счет анонимный и к нему применяются особые лимиты, устанавливаемые главой ЦБ.
Новых пользователей могут регистрировать только представители ЦБ

### Фиксирование смерти гражданина

```
TX
 * User ID
 * User ID органа местной власти
 * Подпись органа местной власти
 ```
 
В результате этой транзакции в таблице Users status ставновится равен "умер", в резльтате чего становится возможным выполнение смарт-контракта, распределяющего наследство. Если такого смарт-контракта нет, тогда все средства и имущество умершего гражданина автоматически распределяется между его самыми близкими родставенниками.

###### UsersDiedHistory (История смерти юзеров)
| ID        | UserId           | Time  | GovUserId  | BlockId  |
| ------------- |-------------| -----| -----| -----|

### Кредитование


 
#### Перевод средств с кредитного счета на расчетный
 
```
TX
 * Сумма, которая будет перечислена с UsersCBLoans на расчетный счет UsersAccounts
 * UsersCBLoans ID
 * Подпись пользователя
 ```
 
###### UsersCBLoans (Кредиты выданные ЦБ юзерам)

| ID        | CurrencyId           | UserId  | Amount  | Pct  | BlockId  |
| ------------- |-------------| -----|-----|-----|-----|

ЦБ может начислить всем гражданам своей страны какую-то сумму, которую гражданин может израсходовать всю или частично. Например, ЦБ США начислил всем по $10 000 кредитных средств под 0,25%/год. Если Вам нужно $3000, то можно взять только их из $10 000 и платить % нужно будет именно с $3000. Под словом "взять" я имею виду, что нужно будет перевести их на свой обычный расчетный счет (UsersAccounts). 

#### Платеж по кредиту

```
TX
 * Платеж по кредиту
 * UsersLoans ID
 * Подпись пользователя
 ```
 
###### UsersLoans (кредиты юзеров)
| ID        | CurrencyId           | Amount  | Pct | Remain  | PledgeItemId | MonthPayment | LastPayment  | CreateTime  | DefaultPeriod |
| ------------- |-------------| -----|-----|------------- |-------------| -----|-----|-----|-----|
После того, как кредитные средства попадают на расчетный счет (UsersAccounts) создается запись в UsersLoans, где отмечается размер кредита, который гражданин должен вернуть. Если это массовый кредит от ЦБ, то Pledge будет пустое. В момент создания записи Amount=Remain. После каждой выплаты по кредиту, Remain пересчитывается. При пересчете учитывается Pct и время предыдущего пересчета Remain, чтоб можно было учесть набежавшие %.
Если кредит под залог, то при отсутствии платежей в размере MonthPayment в течение DefaultPeriod происходит выставление на аукцион залога PledgeItemId (за исключение случаев, когда PledgeItemId является дом или квартира). 


###### UsersLoansHistory (История кредитов юзеров)
| ID        | UsersLoansId | BlockId |
| ------------- |-------------| -----|

### p2p кредитование

Предложение кредита
```
TX
 * User ID заемщика
 * User ID кредитора
 * Подпись кредитора
```

###### CreditHistoryOffers (История предложений кредитов)

| ID        | CurrencyId           | Amount  | Pct | MonthPayment | Creditor | Time | BlockId |
| ------------- |-------------| -----|-----|-----|-----|-----|-----|

Пользователь может одолжить свои средства другому пользователю.

Принятие условий кредита

```
TX
 * CreditHistoryOffers ID
 * User ID заемщика
 * Подпись заемщика
```

Если эта тр-ия была отправлена в течение суток с момента поступления предложения, тогда происходить добавление записи в UsersLoans и начисление средств в UsersAccounts.


### Регистрация представителя ЦБ

```
TX
 * UserId представителя
 * UserId главы ЦБ
 * Подпись главы ЦБ
 ```

###### RepresentativesLicense (Лицензии представителей)

| ID        | UserId представителя          | Currency ID  | Status | 
| ------------- |-------------| ----- | ----- | 

Представитель ЦБ может регистрировать счета гражданам, а также одобрять или отклонять запросы на кредиты. Доход представители получают в том случае, если кредит возвращается, если нет - то штраф. Если представитель не хочет обанкротиться, то ему придется одобрять кредит, чтобы получать доход, в то же время, одобряя все кредит он легко может уйти в минус. 


###### RepresentativesLicenseHistory (История лицензийи представителей)
| ID | RepresentativesLicenseID        |  Status | BlockId | 
| ------------- |-------------|-------------|-------------|


### Отзыв лицензии у представителя ЦБ

```
TX
 * UserId представителя
 * UserId главы ЦБ
 * Подпись главы ЦБ
 ```
 
### Установка параметров по анонимным счетам

```
TX
 * Максимальная сумма поступлений на счет за месяц.
 * Максимальное кол-во людей, от которых могут приходить поступления
 * Подпись представителя ЦБ
```

Анонимные счета нужны гражданам для того, чтобы они могли оплачивать какие-то товары анонимно. В то же время эти счета не должны использовать криминальные структуры для получения нелегальных доходов.

###### AnonymousSettings (Настройки по анонминым счетам)
| ID        | CurrencyId           | MaxAmount  | MaxPeople  |
| ------------- |-------------| -----|-----|

 
### Регистрация компании
```
TX
 * Название компании
 * Страна
 * Город
 * UserID основателя
 * Подпись основателя
```

###### Companies
| ID        | Name           | Owners (JSON)    | RulesId |
| ------------- | ------------- | ----- | ----- |


На нашей планете есть огромное кол-во вариантов по которым функционируют компании. Все эти варианты должны быть доступны любому гражданину в любой стране. Программный код правила будет описан в DayLight. Для гражданина выбор правил будет в виде каталога, где он может изучить, как именно будет функционировать компания и выбрать желаемый вариант.


###### CompaniesHistory (История компаний)
| ID        | CompanyID        | Name           | Owners (JSON)    | RulesId | BlockId |
| ------------- | ------------- | ----- | ----- |----- |----- |


###### CompaniesAccounts (Счета компаний)
| ID        | CurrencyId           | CompanyId    | Amount    |
| ------------- |-------------| -----| -----|

### Перевод средств

```
TX
 * SenderType (User|Company)
 * RecipientType (User|Company)
 * Sender UserId
 * Purpose (private for users and public for companies)
 * Recipient UserId
 * Подпись отправителя
```

Человек может отправить средства компании (назначение платежа шифруется), другому человеку (назначение платежа шифруется). Компания может отправить средства другой компании (назначение платежа не шифруется) или человеку (назначение платежа не шифруется).

### Налогообложение

Глава гос-ва (или другой орган, в зависимости от настроек в таблице CountryOptions) устанавливает размер федеральных и региональных налогов. Также он устанавливает, какая часть налога остается в бюджете региона, а какая отправляется в федеральный бюджет.


```
TX
 * Type
 * MinAmount
 * Pct
 * Utensils
 * FedPct
 * Period
 * Подпись главы гос-ва
```

###### Taxes
| ID        | Period           | Type    |Amount    |Pct    |Utensils    |FedPct    |
| ------------- |-------------| -----| -----| -----| -----| -----|

###### TaxesHistory
| ID        | TaxesID | Period           | Type    |Amount    |Pct    |Utensils    |FedPct    | BlockId|
| ------------- |-------------| -----| -----| -----| -----| -----|-----|-----|

Налоги с компаний автоматически снимаются раз в квартал. При списании налога учитывается его тип и минимальная сумма для данного процента, федеральный налог или региональный. Глава правительства может установить минимальную сумму дохода гражданина, с которой подоходный налог не взимается. Аналогично и для компаний - может быть мин. сумма, когда компания освобождается от налогов.

```
TXh
 * TaxesID
 * Вспомогательная подпись главы гос-ва
```
###### TaxesDaemonHistory (История налогового демона)
| ID        | TaxesID    | BlockId|
| ------------- |-------------| -----|

Вспомогательная тр-ия отправляется автоматически и запускает процесс списания налогов, согласно указанному в таблице Taxes периоду

### Добавление объекта недвижимости
Добавлять объект имеют права органы местной власти.

```
TX
 * Координаты объекта
 * Price
 * Тип объекта
 * Подпись органа местной власти
```

Вы идете по улице, видите заброшенный участок, который владельцу явно не нужен, но Вам он нравится и Вы не против его купить в кредит. Вы отправляете тр-ию с предложением продать участок. Представитель банка автоматически отправляет тр-ию подтверждения кредита (автоматически т.к. алгоритм проанализировал Ваши доходы, начальную стоимость участка и решил, что кредит с вероятностью 99,9% будет погашен). Владелец участка получает уведомление, что есть запрос на покупку. Если цена устраивает владельца участка, то ему нужно будет нажать кнопку "продать".


###### Property
| ID        | Coords  | Price  | CityId  | Owner type (user or company) | Owners (JSON) | BlockId |
| ------------- | ------------- | ------------- | ------------- | ------------- | ------------- |------------- |

### Запрос на продажу недвижимости

```
TX
 * Buyer Users Id or Companies ID (JSON)
 * Buyer type (User or Company)
 * Property Id
 * Price (в валюте той страны, на территории котрой находится объект)
 * Подпись покупателя
```

Владалец недвижимости может иметь мультиподпись и хранить 2-й ключ в специальном органе, задача которого не допустить насильстенного воздействия на граждан с целью кражи их ищества. В таком случае, если Владалец недвижимости захочет совершить сделку, то ему нужно будет прийти в такое учреждение, назвать ID объекта недвижимости, подписать своим первым ключем спец. идентификационнй запрос, после чего он получит подпись, отправив её в сеть сделка будет совершена. Если продавец не боится, то может отключить необхолилмсть 2-й подписи.

###### PropertyRequests (Запросы на недвижимость)
| ID        | PropertyID  | BuyerUserId  | Price  | Status |
| ------------- | ------------- | ------------- | ------------- | ------------- |


Подверждение сделки продавцом
```
TX
 * Buyer Users Id or Companies ID (JSON)
 * Buyer type (User or Company)
 * Property Id
 * Price (в валюте той страны, на территории котрой находится объект)
 * Подпись покупателя
```

###### PropertyRequestsAcceptHistory (История подверждений запросов на недвижимость)
| ID        | PropertyRequestsID  |  BlockId |
| ------------- | ------------- | ------------- |

### Расходные проводки

```
TX
 * Type (user|company)
 * Entries (JSON)
```

###### CreditEntries (Кредитные проводки)
| ID        | Entries(JSON)  |
| ------------- | ------------- |

Если компания хочет получить кредит, то она должна указать, на что будут потрачены средства.

### Запрос на кредит

```
TX
 * Type (user|company)
 * EntryId
```

###### CreditsRequests (Запросыы на кредит)
| ID        | EntryId  | Amount  | ModeratorId  | Result  |
| ------------- | ------------- | ------------- | ------------- | ------------- |


### Оформление наследства

```
TX
 * SmartCotract зашифрованный ключами наследников
 * Type зашифрованный или нет
 * Подпись расшированного смарт-контракта
 * UserId
 * Подпись отправителя
```

В случае смерти гражданина, становится возможным расшифровка и выполненеи его смарт-контракта, в котором описан алгоритм распределения наследства. 


###### Inheritance (наследство)
| ID        | EncryptedSmartContract  | UserID  | SignatureDecryptedSmartContract  | DecryptedSmartContract  |  Status  |
| ------------- | ------------- | ------------- |------------- |------------- |------------- |

```
TX
 * Засшифрованный ключами наследников SmartCotract
 * UserId
 * Подпись отправителя
```
В расшифрованном смарт контракте есть подпись наследодателя, если она совпадает с той, что он отправил ранее (SignatureEncryptedSmartContract) то смарт-конракт выполняется.

### Регистрация брака

```
TX
 * Sender UserId
 * Recipient UserId
 * Брачнй контракт в виде Смарт-контракта
 * Подпись отправителя
```

Подверждение брака
```
TX
 * SpousesID
 * Подпись получателя запроса
```

###### Spouses (Супруги)
| ID        | SenderUserId  | RecipientUserId  | SmartContract  | Status  |
| ------------- | ------------- | ------------- | ------------- | ------------- |

###### SpousesRequestsAcceptHistory (История подтврждения запросов на супружество)
| ID        |     SpousesId    |  Status  | BlockId |
| ------------- | ------------- | ------------- | ------------- |

Регистрация брака необходима для осуществления некоторых операций, в том числе последующего раздела имущества, в случае развода. Брачнй контракт - смарт контракт, который будет может быть выполнен только при статусе "разведены"


### Расторжение брака

Один супруг
```
TX
 * Spouses ID
 * SenderUserId
 * Подпись отправителя
```

Второй супруг
```
TX
 * Spouses ID
 * RecipientUserId
 * Подпись получателя
```

###### SpousesDivorce (Разводы)
| ID        |     SpousesId    |  Time1S1  | Time1S2  | Time2S1  | Time2S2  | Time1Close  | Time2Close  | 
| ------------- | ------------- | ------------- | ------------- |------------- |------------- |------------- |------------- |

Для расторжения брака необходимо отправить 2 раза по 2 транзакции с промежутком не менее 1 месяца. Для исключения импульсивных действий со стороны супругов. После расторжения брака для выполнения брачного контракта кто-то должен его расшифровать и отправить в сеть. При отсутствии контракта все имущество, приобретенное во время брака разделяется между супругамми.

##### Отмена расторжения брака
Один супруг
```
TX
 * Spouses ID
 * SenderUserId
 * Подпись отправителя
```

Второй супруг
```
TX
 * Spouses ID
 * RecipientUserId
 * Подпись получателя
```

Если супруги передумали разводиться, тогда они могут отправить отмену бракоразводного процесса. После этого появятся записи в Time1Close и Time2Close

### Брачный контракт

```
TX
 * SmartCotract
 * Подпись отправителя
```

В самом начале идет проверка статуса в таблице Spouses. Если там стоит "разведены", тогда происходит выполнение контракта. Например, все акции могут остаться за мужем, а недижимость перейдет к жене.



### Загрузка федерального бюджета

```
TX
 * Entries (JSON)
Example: { "Payment": {"Period":"Monthly", "Type":"salary", "amount":"2000", "RecepientType", "User", "RecepientId": "6789419"}, "EntryId":168515 }
 * UserId главы государства
 * Подпись главы государства
```

###### Entries (проводки)
| ID        | Entries(JSON)  |
| ------------- | ------------- |


###### AutoPayments (автоплатежи)
| ID        | Period  |Amount  |Type  | RecepientType  | RecepientId |
| ------------- | ------------- | ------------- | ------------- | ------------- | ------------- |

Расходы могут быть как явно указанными, например, зарплата конкретного сотрудника или закупка какого-то оборудования, так и ссылками на уже созданные Entries. Ссылки на Entries могут использоваться для перечисления средств каким-либо ведомствами или регионам.


### Регистрация товаров

```
TX
 * CompanyId
 * Good name
 * Good Parametres (JSON)
 * Annual depreciation
```

###### Goods
| ID        | CompanyId  | GoodParametres  | AnnualAmortization  | Blockid |
| ------------- | ------------- | ------------- | ------------- |------------- |

Ретейлер при продаже, например, айфона должен указать Good ID айфона, тогда покупатель будет знать, что он покупает именно айфон.  
Также у товара указана амортизация, которая может быть учтена при автоматическом расчете налога компании.


### Регистрация Item компанией

```
TX
 * CompanyId
 * Name
 * Good ID (если это перепродажа товара)
 * Count of goods
 * Подпись ген. директора
```

###### Items
| ID        | CompanyId  | Name  | GoodId  | CountOfGoods  |Blockid |
| ------------- | ------------- | ------------- | ------------- | ------------- | ------------- |
Сделка по покупке какого-либо товара считается законной только при указании ID item. Это своего рода "чек", благодаря которому покупатель может пожаловаться на качество товара в соответствующий орган.
Item используется для составления ордеров. На ордеры выставлются счета.

### Периодичность выплаты зарплаты в компании
```
TX
 * ID компании
 * Периодичность в днях
 * Подпись ген. директора или доверенного лица
```

###### SalaryPeriod
| ID        | CompanyId  | Period  | 
| ------------- | ------------- | ------------- |

### Прием гражданина на работу
```
TX
 * ID гражданина
 * Должность
 * Зарплата
 * Подпись ген. директора или доверенного лица
```

###### Employees
| ID        | UserID  | Position  | Salary  | Date  |
| ------------- | ------------- | ------------- | ------------- | ------------- |


### Увольнение сотрудника
```
TX
 * ID сотрудника
 * Причина увольнения
 * Подпись ген. директора или доверенного лица
```

###### LayoffHistory (история увольнений)
| ID        | EmployeesId  | Reason  |  Time  | BlockId  |
| ------------- | ------------- | ------------- | ------------- | ------------- |


При увольнении, гражданину автоматически выплачивается выходное пособие. Размер пособия определяют органы местной власти.


### Начисление премии сотруднику
```
TX
 * ID сотрудника
 * Причина премии
 * Подпись ген. директора или доверенного лица
```

###### AwardsHistory (история премий)
| ID        | EmployeesId  | Reason  |  Time  | BlockId  |
| ------------- | ------------- | ------------- | ------------- | ------------- |


### Регистрация доверенного лица ген. директора
```
TX
 * ID сотрудника компании
 * Срок действия доверенности
 * Подпись ген. директора или доверенного лица
```

###### PowerOfAttorney (доверенности)
| ID        | EmployeeID  | CompanyID  | Time  | BlockId  |
| ------------- | ------------- | ------------- | ------------- | ------------- |

### Покупка товара компанией у компании

```
TX
 * CompanyId
 * Item ID или ID балансовой таблицы
 * Кол-во
 * Подпись ген. директора
```

Указание ID из балансовой таблицы нужно чтобы потом не проводить списание в ручном режиме.


###### BalanceCompany (балансы компаний)
| ID        | ItemID  | Time  | BlockId  | 
| ------------- | ------------- | ------------- | ------------- |

Указание ID товара нужно для того, чтобы на балансе компании числился конкретный товар. В случае ликвидации компании, акционеры получат доход от продажи имущества компании. Также при списании налогов учитывается амортизация, если у данного  Item ID она есть.

### Списание товара с баланса компании
```
TX
 * ID на балансе компании
 * Причина списания
 * Подпись ген. директора или доверенного лица
```

###### BalanceCompanyHistory (история балансов компаний)
| ID        | BalanceCompanyId  | Reason  | Time  | BlockId  | 
| ------------- | ------------- | ------------- | ------------- | ------------- |


### Выписка счета

```
TX
 * Набор товаров (JSON)
 * Подпись кассира
```


###### CompanyOrders
| ID        | Items  | Time  | BlockId |
| ------------- | ------------- | ------------- |------------- |

Покупатель приходит в магазин, набирает товаров,  кассир оправляет транзакцию со списком товаров, получает ID ордера, Покупатель показывает кассиру qr-код со воим userID, продавец выставлет счет для userID, покупатель отправляет транзакцию переволда средств, где шифрует своим ключём и ключём магазина ID ордера. Кассир видит платеж, где есть нужный ID ордера и отпускает покупателя. Весь процесс занимает несколько секунд. Информация о том, что именно купил покупатель есть только у него и у продавца.

###### CompanyInvoces
| ID        | UserId  | Amount  | CurrencyId  |  Status | Time | BlockId |
| ------------- | ------------- | ------------- | ------------- |------------- |------------- |------------- |


### Выпуск акций

```
TX
 * CompanyId
 * Shares {JSON}. Example {"UserId":146, "Shares": {"shares":100000, "privileges":1,3,4,6,8}}
```
 
###### Shares

| ID        | CompanyId  | Privileges  |
| ------------- | ------------- | ------------- |

###### OwnersOfShares (владельцы акций)

| ID        | UserId  | SharesId  | Amount  |
| ------------- | ------------- | ------------- | ------------- |

Все компании в DayLight публичны. Торги акциями происходят на внутренней децентрализованной бирже. Акции можно наделить различными привилегиями. Что именно дают различные привилегии описывается в программном коде внутри DayLight.

### Ликвидация компании

```
TX
 * CompanyId
 * UserID
 * Vote
 * Подпись держателя голосующих акций
```

###### VotesLiquidationCompany (голоса за ликвидацию компании)

| ID        | UserId  |Vote |
| ------------- | ------------- | ------------- |

###### Auction

| ID        | GoodId  |Description |StartPrice |Step |EndPrice |Duration |
| ------------- |-------------|-------------|-------------|-------------|-------------|-------------|

Если акционеры решат ликвидировать компанию, тогда все средства на счету компании автоматически распределятся между акционерами, а имущество, находящееся на балансе компании выставляется на биржу.


### Покупка товаров на аукционе

```
TX
 * ID
 * Bet
 * Подпись пользователя
```

На аукционе можно продать или купить любые товары, которые имеют запись в таблице Items. 

### Краудфандинг

Создание проекта
```
TX
 * CompanyId
 * AmountShares
 * Target
 * CurrencyId
 * EndDate
 * Description (JSON) Example: { "Title":"My project title", "VideoUrl":"https://www.youtube.com/watch?v=GV7GxRbdcNI", "Text":"My project text", "Category":"Food"}
 * Подпись ген. директора
```
Вначале нужно создать компанию, выпустить акции. Далее нужно указать, какой % акций достанется инвесторам. Если создатели крауд-фандинг проекта готовы продать свой товар с дисконтом для инвестров, тогда они могут создать магазин, где оплатить товар можно будет акциями их компании. Если акции компании вырастут в цене, тогда инвесторам вместо покупки товаров будет выгоднее продать акции на бирже.

###### CrowdFunding
| ID        | CompanyId | AmountShares  | Target | CurrencyId |  EndDate |  Title | VideoUrl | Text | Category |
| ------------- |-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|

### Покупка/продажа акций

```
TX
 * ShareId
 * Price
 * Amount
 * CurrencyId
 * BuySell
 * Type (Company or User)
 * User ID or Company Id
 * Подпись пользователя или компании
```

###### SharesOrders
| ID        | UserId |  CompanyId | ShareId  | Price | Amount |  CurrencyId | BuySell | 
| ------------- |-------------|-------------|-------------|-------------|-------------|-------------|-------------|

На внутренней децентрализованной бирже акции компаний могут покупать любые пользователи из любой страны.

### Обмен валюты
```
TX
 * ShareId
 * Price
 * Amount
 * CurrencyId
 * Подпись пользователя
```

###### ForexOrders
| ID        | UserId | BuyCurrencyId  | Price | Amount |  SellCurrencyId |  EmptyBlockId | DelBlockId
| ------------- |-------------|-------------|-------------|-------------|-------------|-------------|-------------|

Все обменные операции будут происходить на внутренней децентрализованной бирже. Покупать и продавть валюту смогут как пользователи так и компани на равных условиях.

